{"ast":null,"code":"var _jsxFileName = \"O:\\\\Afteroffice\\\\react11am\\\\src\\\\pages\\\\Deals.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { getFilteredProducts } from '../api/productAPI';\nimport Card from '../components/Card';\nimport Checkbox_categories from '../components/Checkbox_categories';\nimport Footer from '../components/Footer';\nimport Navbar from '../components/Navbar';\nimport Radio_prices from '../components/Radio_prices';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Deals = () => {\n  _s();\n\n  const [sortby, setSortBy] = useState('product_price');\n  const [order, setOrder] = useState(-1);\n  const [limit, setLimit] = useState(8);\n  const [size, setSize] = useState(0);\n  const [skip, setSkip] = useState(0);\n  const [myFilter, setMyFilter] = useState({\n    filters: {\n      category: [],\n      product_price: []\n    }\n  });\n  const [filteredProduct, setFilteredProduct] = useState([]);\n  useEffect(() => {\n    getFilteredProducts(myFilter, sortby, order, limit, skip).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setFilteredProduct(data.filteredProduct);\n        setSize(data.size);\n        console.log(data);\n      }\n    });\n  }, [myFilter]);\n\n  const handleFilter = (filters, filterBy) => {\n    let newFilter = { ...myFilter\n    };\n    newFilter.filters[filterBy] = filters;\n    setMyFilter(newFilter);\n    console.log(newFilter);\n  };\n\n  const loadMore = e => {\n    e.preventDefault();\n    let toSkip = skip + limit;\n    getFilteredProducts(myFilter, sortby, order, limit, toSkip).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setFilteredProduct([...filteredProduct, ...data.filteredProduct]);\n        setSize(data.size);\n        setSkip(toSkip);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3 text-start\",\n        children: [/*#__PURE__*/_jsxDEV(Checkbox_categories, {\n          handleFilter: handleFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Radio_prices, {\n          handleFilter: handleFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-9\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row row-cols-1 row-cols-md-4 g-4\",\n          children: filteredProduct.map((product, i) => {\n            return /*#__PURE__*/_jsxDEV(Card, {\n              product: product\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 40\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-warning\",\n          onClick: loadMore,\n          children: \"Load More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Deals, \"GqsRcvToeFFT04SQZP7JGafx8+A=\");\n\n_c = Deals;\nexport default Deals;\n\nvar _c;\n\n$RefreshReg$(_c, \"Deals\");","map":{"version":3,"names":["React","useEffect","useState","getFilteredProducts","Card","Checkbox_categories","Footer","Navbar","Radio_prices","Deals","sortby","setSortBy","order","setOrder","limit","setLimit","size","setSize","skip","setSkip","myFilter","setMyFilter","filters","category","product_price","filteredProduct","setFilteredProduct","then","data","error","console","log","handleFilter","filterBy","newFilter","loadMore","e","preventDefault","toSkip","map","product","i"],"sources":["O:/Afteroffice/react11am/src/pages/Deals.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { getFilteredProducts } from '../api/productAPI'\r\nimport Card from '../components/Card'\r\nimport Checkbox_categories from '../components/Checkbox_categories'\r\nimport Footer from '../components/Footer'\r\nimport Navbar from '../components/Navbar'\r\nimport Radio_prices from '../components/Radio_prices'\r\n\r\nconst Deals = () => {\r\n    const [sortby, setSortBy] = useState('product_price')\r\n    const [order, setOrder] = useState(-1)\r\n    const [limit, setLimit] = useState(8)\r\n    const [size, setSize] = useState(0)\r\n    const [skip, setSkip] = useState(0)\r\n\r\n    const [myFilter, setMyFilter] = useState({\r\n        filters: { category: [], product_price: [] }\r\n    })\r\n    const [filteredProduct, setFilteredProduct] = useState([])\r\n\r\n    useEffect(() => {\r\n        getFilteredProducts(myFilter, sortby, order, limit, skip)\r\n            .then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error)\r\n                }\r\n                else {\r\n                    setFilteredProduct(data.filteredProduct)\r\n                    setSize(data.size)\r\n                    console.log(data)\r\n                }\r\n            })\r\n    }, [myFilter])\r\n\r\n    const handleFilter = (filters, filterBy) => {\r\n        let newFilter = { ...myFilter }\r\n        newFilter.filters[filterBy] = filters\r\n        setMyFilter(newFilter)\r\n        console.log(newFilter)\r\n    }\r\n\r\n    const loadMore = (e) => {\r\n        e.preventDefault()\r\n        let toSkip = skip + limit\r\n        getFilteredProducts(myFilter, sortby, order, limit, toSkip)\r\n            .then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error)\r\n                }\r\n                else {\r\n                    setFilteredProduct([...filteredProduct, ...data.filteredProduct])\r\n                    setSize(data.size)\r\n                    setSkip(toSkip)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div className='row'>\r\n                <div className='col-md-3 text-start'>\r\n                    <Checkbox_categories handleFilter={handleFilter} />\r\n\r\n                    <Radio_prices handleFilter={handleFilter} />\r\n\r\n                </div>\r\n                <div className='col-md-9'>\r\n                    <div class=\"row row-cols-1 row-cols-md-4 g-4\">\r\n                        {\r\n                            filteredProduct.map((product, i) => {\r\n                                return <Card key={i} product={product} />\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <button className='btn btn-warning' onClick={loadMore}>Load More</button>\r\n                </div>\r\n            </div>\r\n\r\n            <Footer />\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Deals"],"mappings":"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"},"metadata":{},"sourceType":"module"}