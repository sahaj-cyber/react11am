{"ast":null,"code":"import { ADD_TO_CART, REMOVE_FROM_CART, SAVE_SHIPPING_INFO } from \"./constants/cartConstants\";\n\nconst cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cart_items: [],\n    shipping_info: {}\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      const item = action.payload;\n      const itemExists = state.cart_items.find(i => i.product === item.product);\n\n      if (itemExists) {\n        return { ...state,\n          cart_items: [...state.cart_items.map(i => {\n            return i.product === item.product ? item : i;\n          })]\n        };\n      } else {\n        return { ...state,\n          cart_items: [...state.cart_items, item]\n        };\n      }\n\n    case REMOVE_FROM_CART:\n      return { ...state,\n        cart_items: [...state.cart_items.filter(item => item.product !== action.payload)]\n      };\n\n    case SAVE_SHIPPING_INFO:\n      return { ...state,\n        shipping_info: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"names":["ADD_TO_CART","REMOVE_FROM_CART","SAVE_SHIPPING_INFO","cartReducer","state","cart_items","shipping_info","action","type","item","payload","itemExists","find","i","product","map","filter"],"sources":["O:/Afteroffice/react11am/src/components/reducer/cartReducer.js"],"sourcesContent":["import { ADD_TO_CART, REMOVE_FROM_CART, SAVE_SHIPPING_INFO } from \"./constants/cartConstants\";\r\n\r\nconst cartReducer = (state = {cart_items: [], shipping_info: {}}, action) => {\r\n    switch (action.type){\r\n        case ADD_TO_CART:\r\n            const item  = action.payload\r\n            const itemExists = state.cart_items.find(i=>i.product===item.product)\r\n            if(itemExists){\r\n                return {...state,\r\n                cart_items: [...state.cart_items.map(i=>{\r\n                    return i.product === item.product ? item : i \r\n                })]}\r\n            }\r\n            else{\r\n                return {...state,\r\n                    cart_items: [...state.cart_items, item]}\r\n            }\r\n            \r\n\r\n        case REMOVE_FROM_CART:\r\n            return {\r\n                ...state,\r\n                cart_items: [...state.cart_items.filter(item=>item.product !== action.payload)]\r\n            }\r\n\r\n        case SAVE_SHIPPING_INFO:\r\n            return {\r\n                ...state,\r\n                shipping_info:  action.payload \r\n            }\r\n\r\n        default: \r\n        return state\r\n    }\r\n\r\n}\r\n\r\nexport default cartReducer"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,EAAwCC,kBAAxC,QAAkE,2BAAlE;;AAEA,MAAMC,WAAW,GAAG,YAAyD;EAAA,IAAxDC,KAAwD,uEAAhD;IAACC,UAAU,EAAE,EAAb;IAAiBC,aAAa,EAAE;EAAhC,CAAgD;EAAA,IAAXC,MAAW;;EACzE,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKR,WAAL;MACI,MAAMS,IAAI,GAAIF,MAAM,CAACG,OAArB;MACA,MAAMC,UAAU,GAAGP,KAAK,CAACC,UAAN,CAAiBO,IAAjB,CAAsBC,CAAC,IAAEA,CAAC,CAACC,OAAF,KAAYL,IAAI,CAACK,OAA1C,CAAnB;;MACA,IAAGH,UAAH,EAAc;QACV,OAAO,EAAC,GAAGP,KAAJ;UACPC,UAAU,EAAE,CAAC,GAAGD,KAAK,CAACC,UAAN,CAAiBU,GAAjB,CAAqBF,CAAC,IAAE;YACpC,OAAOA,CAAC,CAACC,OAAF,KAAcL,IAAI,CAACK,OAAnB,GAA6BL,IAA7B,GAAoCI,CAA3C;UACH,CAFe,CAAJ;QADL,CAAP;MAIH,CALD,MAMI;QACA,OAAO,EAAC,GAAGT,KAAJ;UACHC,UAAU,EAAE,CAAC,GAAGD,KAAK,CAACC,UAAV,EAAsBI,IAAtB;QADT,CAAP;MAEH;;IAGL,KAAKR,gBAAL;MACI,OAAO,EACH,GAAGG,KADA;QAEHC,UAAU,EAAE,CAAC,GAAGD,KAAK,CAACC,UAAN,CAAiBW,MAAjB,CAAwBP,IAAI,IAAEA,IAAI,CAACK,OAAL,KAAiBP,MAAM,CAACG,OAAtD,CAAJ;MAFT,CAAP;;IAKJ,KAAKR,kBAAL;MACI,OAAO,EACH,GAAGE,KADA;QAEHE,aAAa,EAAGC,MAAM,CAACG;MAFpB,CAAP;;IAKJ;MACA,OAAON,KAAP;EA7BJ;AAgCH,CAjCD;;AAmCA,eAAeD,WAAf"},"metadata":{},"sourceType":"module"}